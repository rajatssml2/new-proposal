<div style="padding: 80px;">
    <div class="sub-header">
        <h5>New Proposal</h5>
    </div>
    <form class="row g-3" [formGroup]="proposalForm">
        <div class="col-md-12">
          <label for="purpose" class="form-label">Purpose <span class="asterisk">*</span></label>
          <textarea formControlName="purpose" class="form-control" id="purpose" [readonly]="isReadOnly"></textarea>
        </div>
        <div class="col-md-6">
          <label for="category" class="form-label">Category <span class="asterisk">*</span></label>
          <select formControlName="category" class="form-select" name="category" id="category" [disabled]="isReadOnly">
            <option selected>Choose...</option>
            <option value="Potholes fix">Potholes fix</option>
            <option value="Village road construction">Village road construction</option>
            <option value="Flood area road repair">Flood area road repair</option>
            <option value="Contract document">Contract document</option>
            <option value="Bidding document">Bidding document</option>
            <option value="Training document">Training document</option>
            <option value="Progress report">Progress report</option>
            <option value="Planning/recommendation document">Planning/recommendation document</option>
          </select>
        </div>
        <div class="col-6">
          <label for="upload" class="form-label">Upload <span class="asterisk">*</span></label>
          <input formControlName="upload" type="file" id="upload" [disabled]="isReadOnly" [readonly]="isReadOnly" (change)="onFileChange($event)" class="form-control" id="customFile" />
          <span *ngIf="isDownloadIconShow" class="download-proposal-icon" (click)="onDownloadFile()"> <i class="fa fa-download"></i> </span>
        </div>
       
        <div class="col-6">
          <label for="remarks" class="form-label">Remarks</label>
          <input formControlName="remarks" type="text" class="form-control" id="remarks" placeholder="Remarks ....">
        </div>
        <div class="col-md-6">
          <label for="sentto" class="form-label">Sent to <span class="asterisk">*</span></label>
          <select formControlName="sentTo" class="form-select" name="sentto" id="sentto">
            <option value="" selected>Choose...</option>
            <option *ngIf="loginUser=='state_officer'" value="State transport manage">State transport manager</option>
            <option *ngIf="loginUser=='state_manager'" value="IVA">IVA</option>
            <option *ngIf="loginUser=='iva'" value="Morth Manager">Morth Manager</option>
          </select>
          <div class="not-valid" *ngIf="proposalForm.get('sentTo').invalid || (proposalForm.get('sentTo').dirty || proposalForm.get('sentTo').touched)">
            Sent to is required
        </div>
        </div>

        <div class="d-flex gap-2 col-2 mx-auto">
          <button class="btn btn-primary" type="button" *ngIf="loginUser=='state_officer' || currentUrl == '/new-proposal'" (click)="submit()">Submit</button>
          <button class="btn btn-warning" type="button" *ngIf="loginUser=='state_officer' || currentUrl == '/new-proposal'">Save as draft</button>
          <button class="btn btn-success" type="button" *ngIf="loginUser=='morth_manager' && currentUrl != '/new-proposal' " (click)="onApproveByStateManager()">Approve</button>
          <button class="btn btn-success" type="button" *ngIf="loginUser=='state_manager' && currentUrl != '/new-proposal'" (click)="onSendToIVA()">Sent to IVA</button>
          <button class="btn btn-success" type="button" *ngIf="loginUser=='iva' && currentUrl != '/new-proposal'" (click)="onSendToIVA()">Sent to Morth Manager</button>
          <button class="btn btn-warning" type="button" *ngIf="loginUser==('state_manager' || loginUser=='morth_manager') && currentUrl != '/new-proposal' ">Send for modification</button>
          <button class="btn btn-danger" type="button" *ngIf="loginUser==('state_manager' || loginUser=='morth_manager') && currentUrl != '/new-proposal'">Reject</button>
          <button class="btn btn-secondary" type="button" (click)="onCancel()">Cancel</button>
        </div>
        
        <!-- <div class="col-12">
          <button type="submit" class="btn btn-primary" style="float: right;">Submit</button>
        </div> -->
      </form>
</div>
